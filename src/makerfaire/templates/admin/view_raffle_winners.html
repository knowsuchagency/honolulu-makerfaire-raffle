{% extends 'base.html' %}

{% block main_content %}

<h1>Raffle Winners</h1>

{% if raffle_winners %}
<table>
    <thead>
        <tr>
            <th>Time Drawn</th>
            <th>Raffle Number</th>
            <th>Prize</th>
            <th>Is Claimed?</th>
        </tr>
    </thead>
    <tbody>
    {% for winner in raffle_winners %}
        <tr>
            <td>{{ winner.raffle_time }}</td>
            <td><a href="{{ url_for('edit_raffle_winner', raffle_winner_id=winner.id) }}">{{ winner.raffle_number }}</a></td>
            <td>{{ winner.item }}</td>
            <td>
                {% if winner.is_claimed %}
                <form method=POST action="{{ url_for('unclaim_raffle_winner')}}">
                    <input type="hidden" name="raffle_id" value="{{ winner.id }}">
                    <input type="submit" value="Unclaim">
                </form>
                {% else %}
                <form method=POST action="{{ url_for('claim_raffle_winner')}}">
                    <input type="hidden" name="raffle_id" value="{{ winner.id }}">
                    <input type="submit" value="Claim">
                </form>
                {% endif %}
            </td>
    {% endfor %}
    </tbody>
</table>
{% endif %}

{% endblock main_content %}
